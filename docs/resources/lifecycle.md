---
page_title: "octopusdeploy_lifecycle Resource - terraform-provider-octopusdeploy"
subcategory: ""
description: |-
  This resource manages lifecycles in Octopus Deploy.
---

# octopusdeploy_lifecycle (Resource)

This resource manages lifecycles in Octopus Deploy.

## Example Usage

```terraform
resource "octopusdeploy_lifecycle" "example" {
  description = "This is the default lifecycle."
  name        = "Test Lifecycle (OK to Delete)"

  release_retention_policy {
    quantity_to_keep    = 0
    should_keep_forever = true // true only if quantity_to_keep = 0
    unit                = "Days"
  }

  tentacle_retention_policy {
    quantity_to_keep    = 30
    should_keep_forever = false
    unit                = "Items"
  }

  phase {
    automatic_deployment_targets = ["Environments-321"]
    name                         = "foo"

    release_retention_policy {
      quantity_to_keep    = 1
      should_keep_forever = false
      unit                = "Days"
    }

    tentacle_retention_policy {
      quantity_to_keep    = 30
      should_keep_forever = false
      unit                = "Items"
    }
  }

  phase {
    is_optional_phase           = true
    name                        = "bar"
    optional_deployment_targets = ["Environments-321"]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of this resource.

### Optional

- `description` (String) The description of this lifecycle.
- `phase` (Block List) Defines a phase in the lifecycle. (see [below for nested schema](#nestedblock--phase))
- `release_retention_with_strategy` (Block List) Defines the retention policy for releases or tentacles.
	- When this block is not included, the space-wide "Default" retention policy is used. 
 	- This block may only be used on Octopus server 2025.3 or later. (see [below for nested schema](#nestedblock--release_retention_with_strategy))
- `space_id` (String) The space ID associated with this resource.
- `tentacle_retention_with_strategy` (Block List) Defines the retention policy for releases or tentacles.
	- When this block is not included, the space-wide "Default" retention policy is used. 
 	- This block may only be used on Octopus server 2025.3 or later. (see [below for nested schema](#nestedblock--tentacle_retention_with_strategy))

### Read-Only

- `id` (String) The unique ID for this resource.

<a id="nestedblock--phase"></a>
### Nested Schema for `phase`

Required:

- `name` (String) The name of this resource.

Optional:

- `automatic_deployment_targets` (List of String) Environment IDs in this phase that a release is automatically deployed to when it is eligible for this phase
- `id` (String) The unique ID for this resource.
- `is_optional_phase` (Boolean) If false a release must be deployed to this phase before it can be deployed to the next phase.
- `is_priority_phase` (Boolean) Deployments will be prioritized in this phase
- `minimum_environments_before_promotion` (Number) The number of units required before a release can enter the next phase. If 0, all environments are required.
- `optional_deployment_targets` (List of String) Environment IDs in this phase that a release can be deployed to, but is not automatically deployed to
- `release_retention_with_strategy` (Block List) Defines the retention policy for releases or tentacles.
	- When this block is not included, the space-wide "Default" retention policy is used. 
 	- This block may only be used on Octopus server 2025.3 or later. (see [below for nested schema](#nestedblock--phase--release_retention_with_strategy))
- `tentacle_retention_with_strategy` (Block List) Defines the retention policy for releases or tentacles.
	- When this block is not included, the space-wide "Default" retention policy is used. 
 	- This block may only be used on Octopus server 2025.3 or later. (see [below for nested schema](#nestedblock--phase--tentacle_retention_with_strategy))

<a id="nestedblock--phase--release_retention_with_strategy"></a>
### Nested Schema for `phase.release_retention_with_strategy`

Required:

- `strategy` (String) How retention will be set. Valid strategies are `Default`, `Forever`, and `Count`. The default value is `Default`.
  - `strategy = "Default"`, is used if the retention is set by the space-wide default lifecycle retention policy. When `Default` is used, no other attributes can be set since the specific retention policy is no longer defined within this lifecycle.
  - `strategy = "Forever"`, is used if items within this lifecycle should never be deleted.
  - `strategy = "Count"`, is used if a specific number of days/releases should be kept.

Optional:

- `quantity_to_keep` (Number) The number of days/releases to keep.
- `unit` (String) The unit of quantity to keep. Valid units are Days or Items.


<a id="nestedblock--phase--tentacle_retention_with_strategy"></a>
### Nested Schema for `phase.tentacle_retention_with_strategy`

Required:

- `strategy` (String) How retention will be set. Valid strategies are `Default`, `Forever`, and `Count`. The default value is `Default`.
  - `strategy = "Default"`, is used if the retention is set by the space-wide default lifecycle retention policy. When `Default` is used, no other attributes can be set since the specific retention policy is no longer defined within this lifecycle.
  - `strategy = "Forever"`, is used if items within this lifecycle should never be deleted.
  - `strategy = "Count"`, is used if a specific number of days/releases should be kept.

Optional:

- `quantity_to_keep` (Number) The number of days/releases to keep.
- `unit` (String) The unit of quantity to keep. Valid units are Days or Items.



<a id="nestedblock--release_retention_with_strategy"></a>
### Nested Schema for `release_retention_with_strategy`

Required:

- `strategy` (String) How retention will be set. Valid strategies are `Default`, `Forever`, and `Count`. The default value is `Default`.
  - `strategy = "Default"`, is used if the retention is set by the space-wide default lifecycle retention policy. When `Default` is used, no other attributes can be set since the specific retention policy is no longer defined within this lifecycle.
  - `strategy = "Forever"`, is used if items within this lifecycle should never be deleted.
  - `strategy = "Count"`, is used if a specific number of days/releases should be kept.

Optional:

- `quantity_to_keep` (Number) The number of days/releases to keep.
- `unit` (String) The unit of quantity to keep. Valid units are Days or Items.


<a id="nestedblock--tentacle_retention_with_strategy"></a>
### Nested Schema for `tentacle_retention_with_strategy`

Required:

- `strategy` (String) How retention will be set. Valid strategies are `Default`, `Forever`, and `Count`. The default value is `Default`.
  - `strategy = "Default"`, is used if the retention is set by the space-wide default lifecycle retention policy. When `Default` is used, no other attributes can be set since the specific retention policy is no longer defined within this lifecycle.
  - `strategy = "Forever"`, is used if items within this lifecycle should never be deleted.
  - `strategy = "Count"`, is used if a specific number of days/releases should be kept.

Optional:

- `quantity_to_keep` (Number) The number of days/releases to keep.
- `unit` (String) The unit of quantity to keep. Valid units are Days or Items.

## Import

Import is supported using the following syntax:

```shell
terraform import [options] octopusdeploy_lifecycle.<name> <lifecycle-id>
```
