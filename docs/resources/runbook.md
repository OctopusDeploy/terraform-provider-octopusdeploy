---
page_title: "octopusdeploy_runbook Resource - terraform-provider-octopusdeploy"
subcategory: ""
description: |-
  This resource manages runbooks in Octopus Deploy.
---

# octopusdeploy_runbook (Resource)

This resource manages runbooks in Octopus Deploy.

~> **NOTE Runbooks and Runbooks Processes which are stored in CaC cannot be managed via Terraform. If a project is converted to a CaC project, the Runbooks and Runbook Processes will cause warnings in your plan, and will not be updated when applying changes.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the runbook in Octopus Deploy. This name must be unique.
- `project_id` (String) The project that this runbook belongs to.

### Optional

- `connectivity_policy` (Block List) (see [below for nested schema](#nestedblock--connectivity_policy))
- `default_guided_failure_mode` (String) Sets the runbook guided failure mode.
- `description` (String) The description of this runbook.
- `environment_scope` (String) Determines how the runbook is scoped to environments.
- `environments` (List of String) When environment_scope is set to "Specified", this is the list of environments the runbook can be run against.
- `force_package_download` (Boolean) Whether to force packages to be re-downloaded or not.
- `multi_tenancy_mode` (String) The tenanted deployment mode of the runbook. Valid modes are `Untenanted`, `TenantedOrUntenanted`, `Tenanted`
- `retention_policy` (Block List, Deprecated) Sets the runbook retention policy. (see [below for nested schema](#nestedblock--retention_policy))
- `retention_policy_with_strategy` (Block List) Sets the runbook retention policy with strategy. (see [below for nested schema](#nestedblock--retention_policy_with_strategy))
- `runbook_tags` (Set of String) A list of tags associated with this runbook. Valid tags must be defined in a tag set with the 'Runbook' scope enabled.
- `space_id` (String) The space ID associated with this runbook.

### Read-Only

- `id` (String) The unique ID for this resource.
- `published_runbook_snapshot_id` (String) The published snapshot ID.
- `runbook_process_id` (String) The runbook process ID.

<a id="nestedblock--connectivity_policy"></a>
### Nested Schema for `connectivity_policy`

Optional:

- `allow_deployments_to_no_targets` (Boolean)
- `exclude_unhealthy_targets` (Boolean)
- `skip_machine_behavior` (String)
- `target_roles` (List of String)


<a id="nestedblock--retention_policy"></a>
### Nested Schema for `retention_policy`

Optional:

- `quantity_to_keep` (Number) How many runs to keep per environment.
- `should_keep_forever` (Boolean) Indicates if items should never be deleted. The default value is `false`.


<a id="nestedblock--retention_policy_with_strategy"></a>
### Nested Schema for `retention_policy_with_strategy`

Required:

- `strategy` (String) How retention will be set. Valid strategies are `Default`, `Forever` and `Count`.
  - `strategy = "Forever"`, is used if runbook runs should never be deleted.
  - `strategy = "Count"`, is used if a specific number of runs or days of runs should be kept.
 - `strategy = "Default"`, is used if the space default runbook retention policy should be used.

Optional:

- `quantity_to_keep` (Number) The number of runs per environment or days of runs to keep, depending on the unit selected. Required when strategy is `Count`.
- `unit` (String) The unit of the quantity to keep. Valid units are `Items` and `Days`. Required when strategy is `Count`.
